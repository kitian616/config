## ## ##
# Author    Tian Qi (Thomas Tian)
# Email     kitian616@outlook.com
# Github    https://github.com/kitian616/config
# Version   2.0.2 - 05/11/2017
## ## ##

# load zgen
source "${HOME}/.zgen/zgen.zsh"

# homebrew
export HOMEBREW_BOTTLE_DOMAIN=https://mirrors.ustc.edu.cn/homebrew-bottles

# nvm
export NVM_DIR="$HOME/.nvm"
. "/usr/local/opt/nvm/nvm.sh"

# pyenv
export PYENV_ROOT="$HOME/.pyenv"
export PATH="$PYENV_ROOT/bin:$PATH"
eval "$(pyenv init -)"

# rbenv
export PATH="$HOME/.rbenv/bin:$PATH"
eval "$(rbenv init -)"

# Yarn
export PATH="$PATH:`yarn global bin`"

# thefuck
##brew install thefuck
eval "$(thefuck --alias)"

# zgen
# if the init scipt doesn't exist
if ! zgen saved; then
    echo "Creating a zgen save"

    zgen oh-my-zsh

    # plugins
    zgen oh-my-zsh plugins/git
    zgen oh-my-zsh plugins/sudo
    zgen oh-my-zsh plugins/command-not-found
    zgen oh-my-zsh plugins/colored-man-pages
    zgen oh-my-zsh plugins/z
    zgen oh-my-zsh plugins/extract
    zgen load zsh-users/zsh-syntax-highlighting

    ##brew install coreutils
    zgen load supercrabtree/k

    # completions
    zgen load zsh-users/zsh-completions src

    ##brew install jq fzf
    zgen load  b4b4r07/emoji-cli

    # theme
    zgen load denysdovhan/spaceship-zsh-theme

    # save all to init script
    zgen save
fi

# load custom scripts
for FILE in ~/.custom_scripts/*.sh; do
    source $FILE;
done